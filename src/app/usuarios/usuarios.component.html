<app-header></app-header>

<div class="modal fade crear-cartilla" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header ">
        <h4 class="modal-title " id="exampleModalLongTitle">BINGO</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="card border-primary" style="background: #007bff">
          <div class="card-body text-primary">

              <table class="table table-bordered text-center" style="background: white">
                <tbody>

                    <tr *ngFor="let fila of filas ; let i = index">
                        <td *ngFor="let columna of columnas ; let j = index;">
                          <div class="text-white" style="border: 2px solid white;border-radius: 50%;" *ngIf="(i != 2 || j != 2); else logo">
                            <input type="text" style="width:40px;font-size: 20px;text-align: center;" name="numero[]" id="numero[{{i}}][{{j}}]" >
                          </div>
                          <ng-template #logo>
                            <div class="logo-cartilla">
                              <img src="/assets/logo.png" alt="logo ciis" width="40">
                            </div>
                          </ng-template>
                        </td>
                    </tr>

                </tbody>
            </table>

          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)='guardar()'>Guardar</button>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid">
  <div class="font-weight-bold text-dark">
    <h2 class="title">Listado de Usuarios</h2>
  </div>
  <div class="card border-0 mb-5">
    <div class="card-body">
        <div class="my-2 text-right">
          <button  class="btn btn-rounded btn-primary" type="button">Registrar Usuario</button>
          <button  class="btn btn-rounded btn-success ml-2" type="button"><i class="fas fa-download"></i></button>
        </div>

        <!-- Search form -->
        <div class="md-form mt-3 mb-4" *ngIf="usuarios?.length>0">
          <input class="form-control" [(ngModel)]="buscar" type="text" placeholder="Search"
            aria-label="Search" (keyup.enter)="buscarUsuario()" (ngModelChange)="valuechange($event)">
        </div>

        <div *ngIf="usuarios?.length == 0" class="alert alert-info">
          No hay registros en la base de datos!
        </div>

        <table class="table table-bordered table-striped" *ngIf="usuarios?.length>0">
          <thead>
              <tr>
                  <th>#</th>
                  <th>Nombre</th>
                  <th>Role</th>
                  <th>Email</th>
                  <th>Tel√©fono</th>
                  <th>Opciones</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let usuario of usuarios">
                  <td><i class="fas fa-blog" [ngStyle]="{'color': usuario.online? 'blue' : 'red'}"></i></td>
                  <td>{{ usuario.nombre }}</td>
                  <td>{{ usuario.role }}</td>
                  <td>{{ usuario.email }}</td>
                  <td>{{ usuario.telefono }}</td>
                  <td>
                    <button class="btn btn-primary" data-toggle="modal" data-target=".crear-cartilla" (click)='guardar_usuario(usuario)'><i class="fas fa-trophy"></i></button>
                    <button class="btn btn-danger ml-2"><i class="fas fa-user-times"></i></button>
                  </td>
              </tr>
          </tbody>
      </table>

      <app-paginate></app-paginate>
    </div>
  </div>
</div>

<app-footer></app-footer>
